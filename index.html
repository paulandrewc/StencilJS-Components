<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta http-equiv="X-UA-Compatible" content="ie=edge">
 <title>Demo</title>
 <script src="../dist/stencil-components.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>
<body>
  <div ng-app="sdiTriangleApp" ng-controller="sdiTriangleCtrl" style="display:block" >
       <div id="triangleone" style="width:500px;display:inline-block"><ternary-graph></ternary-graph></div>
        <div id="triangletwo" style="width:500px;display:inline-block"><ternary-graph></ternary-graph></div>
  </div>
  <img src="https://totalsdi.com/wp-content/uploads/2015/05/about-triangle-image.jpg"></img>
  <!-- Updating the first triangle via Angular -->
  <style>
    body {
      margin: 0px;
      padding: 0px;
      font-family: sans-serif;
    }
  </style>
  <script>  
    var app = angular.module("sdiTriangleApp", []);
    app.controller("sdiTriangleCtrl", function($scope,$window) {
    
    //The Array Must Follow This Order to create a proper SDI Triangle.
    //Blue Green, Red, Name
      $scope.recordArray =  
      [
        {"A": 5, "B": 5, "C": 90,"X": 10,"Y": 10,"Z": 80, "Label": "Super Red"},
		    {"A": 0,  "B": 0,  "C": 100,"Label": "Uber Red"},
		    {"A": 90, "B": 5, "C": 5, "Label": "Super Blue"},
		    {"A": 100,"B": 0,  "C": 0,  "Label": "Uber Blue"},
		    {"A": 5, "B": 90, "C": 5, "Label": "Super Green"},
        {"A": 0,  "B": 100,"C": 0,  "Label": "Uber Green"},
        {"A": 0,  "B": 100,"C": 0,  "Label": "Uber Green"},
        {"A":100/3,"B":100/3,"C":100/3,"Label":"Central"}
      ];
      
      $scope.aHex = "#51caf5";
      $scope.bHex = "#70c59d";
      $scope.cHex = "#f48890";
      $scope.FadeEndHex = "#ffffff";
      $scope.showHectagon = true;
      

      $scope.Corners1 = {"A": {"X":10,"Y": 80},"B": {"X":50,"Y": 10},"C":{"X":90,"Y":80}};
      $scope.Corners2 = {"A": {"X":10,"Y": 10},"B": {"X":50,"Y": 80},"C":{"X":90,"Y":10}};

      //This will currently only apply these to the first one it finds.
      //const ternarygraph1 = document.querySelector('#triangleone ternary-graph');
      //ternarygraph1.componentOnReady().then(() => {
      //ternarygraph1.recordArray = $scope.recordArray;
      //ternarygraph1.corners = $scope.Corners1;
      //ternarygraph1.aHex = $scope.aHex;
      //ternarygraph1.bHex = $scope.bHex;
      //ternarygraph1.cHex = $scope.cHex;
      //});

      const ternarygraph2 = document.querySelector('#triangletwo ternary-graph');
      ternarygraph2.componentOnReady().then(() => {
      ternarygraph2.corners = $scope.Corners2;
      ternarygraph2.aHex = $scope.aHex;
      ternarygraph2.bHex = $scope.bHex;
      ternarygraph2.cHex = $scope.cHex;
      ternarygraph2.FadeEndHex = $scope.FadeEndHex;
      ternarygraph2.recordArray = $scope.recordArray;
      ternarygraph2.abAxisLabel = "A to B Axis";
      ternarygraph2.acAxisLabel = "A to C Axis";
      ternarygraph2.bcAxisLabel = "B to C Axis";
      ternarygraph2.addEventListener('recordClicked', (e) => {
      alert("Item '" + e.Label + "' was clicked");
      });
      });
    });
    </script>
</body>
</html>
</html>
